<div class="container" fxLayout="column">
  <h1>Finalização de Compra</h1>
  <form [formGroup]="formulario" fxLayout="row" fxLayout.sm="column" fxLayout.lt-sm="column">
    <mat-card fxLayout="column" fxFlex="50" fxFlex.lt-md="100">
      <h2>Endereço de Entrega</h2>
      <div fxLayout="column" fxLayoutGap="0.5%">
        <mat-form-field appearance="fill">
          <mat-label>Rua</mat-label>
          <input formControlName="rua" matInput maxlength="50" />
        </mat-form-field>

        <div fxLayout="row" fxLayoutGap="0.3%">
          <mat-form-field fxFlex="33" appearance="fill">
            <mat-label>Número</mat-label>
            <input formControlName="numero" matInput maxlength="6" />
          </mat-form-field>

          <mat-form-field fxFlex="33" appearance="fill">
            <mat-label>CEP</mat-label>
            <input formControlName="cep" matInput maxlength="9" />
          </mat-form-field>

          <mat-form-field fxFlex="33" appearance="fill">
            <mat-label>Bairro</mat-label>
            <input formControlName="bairro" matInput maxlength="20" />
          </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutGap="0.5%">
          <mat-form-field fxFlex="50" fxFlex.sm="80" appearance="fill">
            <mat-label>Cidade</mat-label>
            <input formControlName="cidade" matInput maxlength="30" />
          </mat-form-field>

          <mat-form-field fxFlex="50" fxFlex.sm="20" appearance="fill">
            <mat-label>Estado</mat-label>
            <input formControlName="estado" matInput maxlength="2" />
          </mat-form-field>
        </div>
      </div>
    </mat-card>
    <mat-card fxLayout="column" fxFlex="50" fxFlex.lt-md="100">
      <h2>Cartão de Crédito</h2>
      <div fxFlex="100" fxLayout="column" fxLayoutGap="0.5%">
        <mat-form-field appearance="fill">
          <mat-label>Nome</mat-label>
          <input formControlName="nome" matInput maxlength="50" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Número</mat-label>
          <input formControlName="numeroCartao" matInput maxlength="16" />
        </mat-form-field>
        <div fxLayout="row" fxLayoutGap="0.5%">
          <mat-form-field fxFlex="50" appearance="fill">
            <mat-label>CVV</mat-label>
            <input formControlName="cvv" matInput maxlength="3" />
          </mat-form-field>

          <mat-form-field fxFlex="50" appearance="fill">
            <mat-label>Data de Expiração</mat-label>
            <input formControlName="dataExpiracao" matInput maxlength="5" />
          </mat-form-field>
        </div>
      </div>
    </mat-card>
  </form>

  <mat-card fxFlex="100%">
    <h3>Resumo do Pedido</h3>
      <items-list [items]="itens" [subTotal]="shoppingCartService.valorTotal()" [frete]="valorFrete"></items-list>
  </mat-card>

  <p>
    <button
      style="margin-top: 1%; margin-left: 10%;"
      fxFlex="10"
      fxLayoutAlign="center"
      mat-stroked-button
      type="button"
      color="primary"
      (click)="criarPedido()"
      [disabled]="formulario.invalid && itens.length"
    >
      Finalizar
    </button>
  </p>
</div>
